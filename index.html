<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interfaces de desarrollo DAM</title>
    <meta name="author">
    <link id="theme" rel="stylesheet" href="assets/themes/dark.css">
    <link rel="stylesheet" href="assets/main.css">
    <link rel="stylesheet" href="assets/dependencies/IMAGG/IMAGG.css">
    <script type="text/javascript" src="assets/main.js"></script>
</head>
<body>
    <nav>
        <div>
            <div>
                <a class="invert" href="https://github.com/manuelmsni" target="_blank" title="Repositorio de github"><img height="24px" src="assets/img/github.png"></a>
            </div>
            <label class="switch">
                <input id="themeSwitch" type="checkbox" onchange="switchTheme()">
                <span class="slider round"></span>
            </label>
        </div>
    </nav>

    <header class="mainContainer tac">
        <h1><i>Odoo</i></h1>
    </header>

    <section class="mainContainer pd2">
        <h2>Modulos</h2>
        <!-- docker commit -->
        <article> <!-- SQL en docker -->
            <div class="CrearModulo">
                <hr>
                <h4>Comando creación modulo</h4>
                <p><label class="mp">Ruta instalación: <input style="width: 300px" type="text" id="odooPath" value='C:\\Program Files\\Odoo 16.0.20231018'/></label></p>
                <p><label class="mp">Nombre módulo: <input style="width: 300px" type="text" id="moduleName" value='libreria'/></label></p>
                <p>Abre "CMD" en modo administrador y ejecuta el comando: </p>
                <div class="code">
                    <pre class="copy" id="command"></pre>
                </div>
                <script>
                    function asignarContenidoAComando(){
                        odooPath = document.getElementById("odooPath").value;
                        moduleName = document.getElementById("moduleName").value;
                        var command = "\""+odooPath+"\\python\\python.exe\" \"" + odooPath + "\\server\\odoo-bin\" scaffold " + moduleName + " \"" + odooPath +"\\server\\odoo\\addons\"";
                        document.getElementById("command").innerHTML = command;
                    }
                    asignarContenidoAComando();
                    //listener al cambiar el valor de los inputs
                    document.getElementById("odooPath").addEventListener("input", asignarContenidoAComando);
                    document.getElementById("moduleName").addEventListener("input", asignarContenidoAComando);
                </script>
                <hr>
            <div class="EditarModulo">
                <hr>
                <h4> Editar modulo </h4>
                <p> - Cada vez que se edite un fichero .py hay que reiniciar y actualizar el servicio de odoo.</p>
                <p> - Para cambios en xml se actualiza el módulo en la lista de aplicaciones de odoo.</p>
                <p> - En el archivo "views.xml" los campos "id" han de ir precedidos del nombre de la carpeta del módulo:</p>
                <figure>
                    <label class="mp">Explorador de archivos:</label>
                    <img class="triggerIMAGG" src="assets/img/odoo/ej_path.jpg" alt="Nombre de la carpeta del módulo en el explorador de archivos">
                    <label class="mp">Archivo views.xml:</label>
                    <img class="triggerIMAGG" src="assets/img/odoo/ej_vista.jpg" alt="Nombre de la carpeta del módulo en un id del archivo views.xml">
                    <label class="mp">Archivo models.py:</label>
                    <img class="triggerIMAGG" src="assets/img/odoo/ej_modelo.jpg" alt="Modelo correspondiente en el archivo models.py">
                </figure>
                <hr>
            </div>
                
            </div>
        </article>
    </section>

    <footer>

    </footer>
    <script>
        initCopia();
    </script>
    <script src="https://manuelmsni.github.io/IMAGG/IMAGG_1.0/js/IMAGG.js"></script>
</body>
</html>